<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="https://unpkg.com/element-ui@2.4.1/lib/theme-chalk/index.css">
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/vue/2.5.11/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
    <script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
    <script src="https://unpkg.com/element-ui@2.4.1/lib/index.js"></script>
    <script src="https://unpkg.com/viser-vue@2.3.2/umd/viser-vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.10/lodash.min.js"></script>

    <title>亨亨养车</title>
    <link href="dist/./style/main-css.css" rel="stylesheet"></head>
  </head>
  <body>

    <div id="app">

    </div>
    <div id="loading" style="position: absolute;top:0px;bottom: 0px;left:0px;right: 0px;text-align: center;z-index: -1">
      <div style="padding:5px 20px; width: 224px; border:solid 5px #f0f2f5;margin-top: -75px;margin-left:-112px;position: absolute; top: 50%;left: 50%;">
        <div style="float: left">
          <img src="loading.gif" width="50">
        </div>
        <div id="progressing" style="float: left; text-align:left;padding: 15px;vertical-align:middle;display:table-cell;color: #666666">
          努力加载中...
        </div>
      </div>
    </div>
    <script>
      var xhr = new XMLHttpRequest;

      xhr.open('get','/dist/js/main.js',true);

      xhr.addEventListener("progress", function (evt) {
        if (evt.lengthComputable) {
          var percentComplete = parseInt((parseFloat(parseFloat(evt.loaded).toFixed(2) / parseFloat(evt.total).toFixed(2)).toFixed(2))*100);
          $("#progressing").html("努力加载中... "+percentComplete + "%");
        }
      }, false);

      xhr.onreadystatechange = function(){

        if( xhr.readyState == 4 ){

          if( xhr.status >=200 && xhr.status < 300 || xhr.status == 304 ){

            var script = document.createElement('script');

            script.type = 'text/javascript';

            script.text = xhr.responseText;

            document.body.appendChild(script);

          }

        }

      };

      xhr.send(null);


    </script>
  </body>
</html>
